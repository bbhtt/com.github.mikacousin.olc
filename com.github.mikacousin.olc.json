{
  "app-id": "com.github.mikacousin.olc",
  "runtime": "org.gnome.Sdk",
  "runtime-version": "40",
  "sdk": "org.gnome.Sdk",
  "command": "olc",
  "finish-args": [
    "--share=ipc",
    "--share=network",
    "--socket=fallback-x11",
    "--socket=wayland",
    "--filesystem=home",
    "--device=all"
  ],
  "cleanup": [
    "/include",
    "/lib/debug",
    "*.a",
    "*.la"
  ],
  "build-options": {
    "strip": true
  },
  "modules": [
    {
      "name": "psutil",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app psutil-5.9.0.tar.gz"
      ],
      "sources": [{
        "type": "file",
        "url": "https://files.pythonhosted.org/packages/47/b6/ea8a7728f096a597f0032564e8013b705aa992a0990becd773dcc4d7b4a7/psutil-5.9.0.tar.gz",
        "sha256": "869842dbd66bb80c3217158e629d6fceaecc3a3166d3d1faee515b05dd26ca25"
      }]
    },
    {
      "name": "liblo",
      "config-opts": [
        "--disable-examples",
        "--disable-tools"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/radarsat1/liblo.git",
          "tag": "0.31",
          "commit": "840ed69b1d669a1ce587eb592746e3dff6985d76"
        }
      ]
    },
    {
      "name": "python-liblo",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app pyliblo-0.10.0.tar.gz"
      ],
      "sources": [{
        "type": "file",
        "url": "https://files.pythonhosted.org/packages/c0/da/4b8052ab5aa07952d7fe7b068d737a042e76373573eadd340f7550eddea9/pyliblo-0.10.0.tar.gz",
        "sha256": "fc67f1950b827272b00f9f0dc4ed7113c0ccef0c1c09e9976dead40ebbf1798f"
      }]
    },
    {
      "name": "cpp-google-protobuf",
      "config-opts": [
        "--disable-static"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/protocolbuffers/protobuf/releases/download/v3.19.3/protobuf-cpp-3.19.3.tar.gz",
          "sha256": "f0cc6ae9119d4891d72bc72d44ae73308d6e2319e2ce96c10c22d2508c55c922"
        }
      ]
    },
    {
      "name": "python-google-protobuf",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app protobuf-3.19.3-py2.py3-none-any.whl"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/dc/a9/fdc31f2c7917d5a1e18f4ca2f955706dfdcaaba8fb0baa48becfc0b68f22/protobuf-3.19.3-py2.py3-none-any.whl",
          "sha256": "f6d4b5b7595a57e69eb7314c67bef4a3c745b4caf91accaf72913d8e0635111b"
        }
      ]
    },
    {
      "name": "libmicrohttpd",
      "sources": [
        {
          "type": "archive",
          "url": "https://ftp.gnu.org/gnu/libmicrohttpd/libmicrohttpd-0.9.75.tar.gz",
          "sha256": "9278907a6f571b391aab9644fd646a5108ed97311ec66f6359cebbedb0a4e3bb"
        }
      ]
    },
    {
      "name": "ola",
      "build-options": {
        "env": {
          "PYTHON": "python3"
        }
      },
      "config-opts": [
        "--disable-unittests",
        "--disable-examples",
        "--disable-osc",
        "--enable-http",
        "--enable-python-libs"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/OpenLightingProject/ola/releases/download/0.10.8/ola-0.10.8.tar.gz",
          "sha256": "102aa3114562a2a71dbf7f77d2a0fb9fc47acc35d6248a70b6e831365ca71b13"
        },
        {
          "type": "script",
          "dest-filename": "autogen.sh",
          "commands": [
            "autoreconf -fi"
          ]
        }
      ]
    },
    {
      "name": "RtMidi",
      "config-opts": [
        "--with-alsa"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/thestk/rtmidi.git",
          "tag": "5.0.0",
          "commit": "84a99422a3faf1ab417fe71c0903a48debb9376a"
        }
      ]
    },
    {
      "name": "jack",
      "buildsystem": "simple",
      "build-commands": [
        "python3 waf configure --prefix=/app",
        "python3 waf build",
        "python3 waf install"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/jackaudio/jack2/archive/refs/tags/v1.9.20.tar.gz",
          "sha256": "915ad2900992159bdb729b9fc4ea134b962ce32b2df0b384fee40a2c5808835d"
        }
      ]
    },
    {
      "name": "python-rtmidi",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app python-rtmidi-1.4.9.tar.gz"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/92/bf/749468bc43f85ec77f37154327360ba82e7d0ae622341eab44a6d75751c3/python-rtmidi-1.4.9.tar.gz",
          "sha256": "bfeb4ed99d0cccf6fa2837566907652ded7adc1c03b69f2160c9de4082301302"
        }
      ]
    },
    {
      "name": "mido",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --prefix=/app mido-1.2.10-py2.py3-none-any.whl"
      ],
      "sources": [{
        "type": "file",
        "url": "https://files.pythonhosted.org/packages/b5/6d/e18a5b59ff086e1cd61d7fbf943d86c5f593a4e68bfc60215ab74210b22b/mido-1.2.10-py2.py3-none-any.whl",
        "sha256": "0e618232063e0a220249da4961563c7636fea00096cfb3e2b87a4231f0ac1a9e"
      }]
    },
    {
      "name": "olc",
      "builddir": true,
      "buildsystem": "meson",
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/mikacousin/olc.git",
          "tag": "0.5.beta",
          "commit": "8e2671d988892993325a67ce0a77d7d885c03163"
        }
      ]
    }
  ]
}
